(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{374:function(t,e,a){"use strict";a.r(e);var r=a(2),v=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"dplayer-插件使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dplayer-插件使用"}},[t._v("#")]),t._v(" Dplayer 插件使用 "),a("Badge",{attrs:{text:"@MonoLogueChi"}}),t._v(" "),a("Badge",{attrs:{text:"Finish"}}),t._v(" "),a("Badge",{attrs:{text:"0.3.3"}})],1),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/MoePlayer/hexo-tag-dplayer",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-tag-dplayer"),a("OutboundLink")],1),t._v(" 是 "),a("a",{attrs:{href:"https://github.com/MoePlayer/DPlayer",target:"_blank",rel:"noopener noreferrer"}},[t._v("APlayer"),a("OutboundLink")],1),t._v(" 播放器的 Hexo 标签插件，可以十分方便地在文章内插入视频播放器。")]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("安装 hexo-tag-dplayer 插件十分简单，只需要在博客目录执行")]),t._v(" "),a("div",{staticClass:"language-batch extra-class"},[a("pre",{pre:!0,attrs:{class:"language-batch"}},[a("code",[a("span",{pre:!0,attrs:{class:"token command"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("npm")]),t._v(" install hexo-tag-dplayer "),a("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-s")])]),t._v("\n")])])]),a("p",[t._v("配置项需要一些 Yaml 语法的基础知识，可以参见 "),a("RouterLink",{attrs:{to:"/5-Add/5-2-yaml.html"}},[t._v("YAML 语法简介")])],1),t._v(" "),a("p",[t._v("修改 Hexo 的配置文件  "),a("code",[t._v("_config.yml")]),t._v("  ，增加")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hexo-tag-dplayer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cdn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//cdn.jsdelivr.net/npm/dplayer/dist/DPlayer.min.js\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//cdn.jsdelivr.net/npm/dplayer/dist/DPlayer.min.css\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("api")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//api.prprpr.me/dplayer/\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yes\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("screenshot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yes\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 后面还可以接着写其他默认配置")]),t._v("\n")])])]),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[t._v("使用 hexo-tag-dplayer 非常简单，只需要在 MarkDown 文件中插入正确的标记就可以了。")]),t._v(" "),a("div",{pre:!0},[a("div",{pre:!0,attrs:{class:"language-markdown extra-class"}},[a("pre",{pre:!0,attrs:{"v-pre":"",class:"language-markdown"}},[a("code",[t._v('{% dplayer "url=https://dl.sm9.top/Video/2018/KeyCastOW.mp4" %} \n')])])])]),a("p",[t._v("如果还需要其他配置，尽管在上面写就好，详情可以看 [这里] (https://github.com/MoePlayer/hexo-tag-dplayer)，下面有一个简单的示例可以看一下：")]),t._v(" "),a("div",{pre:!0},[a("div",{pre:!0,attrs:{class:"language-markdown extra-class"}},[a("pre",{pre:!0,attrs:{"v-pre":"",class:"language-markdown"}},[a("code",[t._v('{% dplayer "url=https://dl.sm9.top/Video/2018/%E6%8E%98%E5%9C%B0%E6%B1%82%E5%8D%87_x264.mp4" " screenshot" "loop=yes" "id=46190A32F63DFF2CF0A3BB0F3293636C" "api=https://api.prprpr.me/dplayer/" "addition=https://api.prprpr.me/dplayer/v3/bilibili?aid=17150441 " %} \n')])])])]),a("p",[t._v("附 Dplayer 一些简单的参数列表，注意， Dplayer 的参数仅作为参考，具体请以 "),a("a",{attrs:{href:"https://github.com/MoePlayer/hexo-tag-dplayer",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-tag-dplayer"),a("OutboundLink")],1),t._v(" 为准")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("container")]),t._v(" "),a("td",[t._v("document.querySelector('.dplayer')")]),t._v(" "),a("td",[t._v("播放器容器元素")])]),t._v(" "),a("tr",[a("td",[t._v("live")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("开启直播模式，"),a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=live",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("autoplay")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("视频自动播放")])]),t._v(" "),a("tr",[a("td",[t._v("theme")]),t._v(" "),a("td",[t._v("'#b7daff'")]),t._v(" "),a("td",[t._v("主题色")])]),t._v(" "),a("tr",[a("td",[t._v("loop")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("视频循环播放")])]),t._v(" "),a("tr",[a("td",[t._v("lang")]),t._v(" "),a("td",[t._v("navigator.language.toLowerCase()")]),t._v(" "),a("td",[t._v("可选值: 'en', 'zh-cn', 'zh-tw'")])]),t._v(" "),a("tr",[a("td",[t._v("screenshot")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("开启截图，如果开启，视频和视频封面需要开启跨域")])]),t._v(" "),a("tr",[a("td",[t._v("hotkey")]),t._v(" "),a("td",[t._v("true")]),t._v(" "),a("td",[t._v("开启热键")])]),t._v(" "),a("tr",[a("td",[t._v("preload")]),t._v(" "),a("td",[t._v("'auto'")]),t._v(" "),a("td",[t._v("预加载，可选值: 'none', 'metadata', 'auto'")])]),t._v(" "),a("tr",[a("td",[t._v("volume")]),t._v(" "),a("td",[t._v("0.7")]),t._v(" "),a("td",[t._v("默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效")])]),t._v(" "),a("tr",[a("td",[t._v("logo")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("在左上角展示一个 logo，你可以通过 CSS 调整它的大小和位置")])]),t._v(" "),a("tr",[a("td",[t._v("apiBackend")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("自定义获取和发送弹幕行为，"),a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=live",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("video")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("视频信息")])]),t._v(" "),a("tr",[a("td",[t._v("video.quality")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=quality-switching",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("video.defaultQuality")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=quality-switching",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("video.url")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("视频链接")])]),t._v(" "),a("tr",[a("td",[t._v("video.pic")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("视频封面")])]),t._v(" "),a("tr",[a("td",[t._v("video.thumbnails")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("视频缩略图，可以使用 "),a("a",{attrs:{href:"https://github.com/MoePlayer/DPlayer-thumbnails",target:"_blank",rel:"noopener noreferrer"}},[t._v("DPlayer-thumbnails"),a("OutboundLink")],1),t._v(" 生成")])]),t._v(" "),a("tr",[a("td",[t._v("video.type")]),t._v(" "),a("td",[t._v("'auto'")]),t._v(" "),a("td",[t._v("可选值: 'auto', 'hls', 'flv', 'dash', 'webtorrent', 'normal' 或其他自定义类型，"),a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=mse-support",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("video.customType")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("自定义类型，"),a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=mse-support",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("subtitle")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("外挂字幕")])]),t._v(" "),a("tr",[a("td",[t._v("subtitle.url")]),t._v(" "),a("td",[a("code",[t._v("required")])]),t._v(" "),a("td",[t._v("字幕链接")])]),t._v(" "),a("tr",[a("td",[t._v("subtitle.type")]),t._v(" "),a("td",[t._v("'webvtt'")]),t._v(" "),a("td",[t._v("字幕类型，可选值: 'webvtt', 'ass'，目前只支持 webvtt")])]),t._v(" "),a("tr",[a("td",[t._v("subtitle.fontSize")]),t._v(" "),a("td",[t._v("'20px'")]),t._v(" "),a("td",[t._v("字幕字号")])]),t._v(" "),a("tr",[a("td",[t._v("subtitle.bottom")]),t._v(" "),a("td",[t._v("'40px'")]),t._v(" "),a("td",[t._v("字幕距离播放器底部的距离，取值形如: '10px' '10%'")])]),t._v(" "),a("tr",[a("td",[t._v("subtitle.color")]),t._v(" "),a("td",[t._v("'#fff'")]),t._v(" "),a("td",[t._v("字幕颜色")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("显示弹幕")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.id")]),t._v(" "),a("td",[a("code",[t._v("required")])]),t._v(" "),a("td",[t._v("弹幕池 id，必须唯一")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.api")]),t._v(" "),a("td",[a("code",[t._v("required")])]),t._v(" "),a("td",[a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=danmaku-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.token")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("弹幕后端验证 token")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.maximum")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("弹幕最大数量")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.addition")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("额外外挂弹幕，"),a("a",{attrs:{href:"http://dplayer.js.org/#/home?id=bilibili-danmaku",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.user")]),t._v(" "),a("td",[t._v("'DIYgod'")]),t._v(" "),a("td",[t._v("弹幕用户名")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.bottom")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("弹幕距离播放器底部的距离，防止遮挡字幕，取值形如: '10px' '10%'")])]),t._v(" "),a("tr",[a("td",[t._v("danmaku.unlimited")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("海量弹幕模式，即使重叠也展示全部弹幕，请注意播放器会记忆用户设置，用户手动设置后即失效")])]),t._v(" "),a("tr",[a("td",[t._v("contextmenu")]),t._v(" "),a("td",[t._v("[]")]),t._v(" "),a("td",[t._v("自定义右键菜单")])]),t._v(" "),a("tr",[a("td",[t._v("highlight")]),t._v(" "),a("td",[t._v("[]")]),t._v(" "),a("td",[t._v("自定义进度条提示点")])]),t._v(" "),a("tr",[a("td",[t._v("mutex")]),t._v(" "),a("td",[t._v("true")]),t._v(" "),a("td",[t._v("互斥，阻止多个播放器同时播放，当前播放器播放时暂停其他播放器")])])])]),t._v(" "),a("h2",{attrs:{id:"使用弹幕"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用弹幕"}},[t._v("#")]),t._v(" 使用弹幕")]),t._v(" "),a("p",[t._v("上面的示例中已经写了怎么使用弹幕了，使用弹幕首先需要有一个 ID ，建议使用视频的哈希值作为 ID，这样可以尽可能保证 ID 唯一，防止重复，接下来要配置弹幕接口，官方免费的弹幕接口能用，但是不稳定，如果有特殊需求，推荐个人自己搭建弹幕服务器。")]),t._v(" "),a("p",[t._v("解析 BiliBiLi 弹幕，这个上面的示例也已经有了，同样，免费的服务不一定稳定，有特殊需求的请自己搭建弹幕服务器。")]),t._v(" "),a("p",[t._v("增加外部弹幕列表，同解析 BiliBiLi 弹幕一样，只要将外部弹幕的地址写进  "),a("code",[t._v("addition")]),t._v("  就可以了。")]),t._v(" "),a("h2",{attrs:{id:"使用字幕"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用字幕"}},[t._v("#")]),t._v(" 使用字幕")]),t._v(" "),a("p",[t._v("增加参数  "),a("code",[t._v('"subtitle=字幕文件地址"')]),t._v("  就可以了，如需修改字幕颜色或者字体大小，仿照其他参数写就可以了。")])])}),[],!1,null,null,null);e.default=v.exports}}]);