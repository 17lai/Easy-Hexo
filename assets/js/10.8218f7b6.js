(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{373:function(s,t,a){s.exports=a.p+"assets/img/1.16d2c02b.png"},374:function(s,t,a){s.exports=a.p+"assets/img/2.049741d4.png"},375:function(s,t,a){s.exports=a.p+"assets/img/3.56f6fdb4.png"},376:function(s,t,a){s.exports=a.p+"assets/img/4.4ab46c6e.png"},377:function(s,t,a){s.exports=a.p+"assets/img/5.94a64962.png"},378:function(s,t,a){s.exports=a.p+"assets/img/6.f223bd87.png"},379:function(s,t,a){s.exports=a.p+"assets/img/7.cb05f646.jpg"},380:function(s,t,a){s.exports=a.p+"assets/img/8.13875c8c.png"},381:function(s,t,a){s.exports=a.p+"assets/img/9.16d2c02b.png"},382:function(s,t,a){s.exports=a.p+"assets/img/10.e98a26a3.png"},383:function(s,t,a){s.exports=a.p+"assets/img/11.71e65e62.png"},384:function(s,t,a){s.exports=a.p+"assets/img/12.4c8b7a97.png"},385:function(s,t,a){s.exports=a.p+"assets/img/13.5db81f0b.png"},386:function(s,t,a){s.exports=a.p+"assets/img/14.1a54aafe.png"},387:function(s,t,a){s.exports=a.p+"assets/img/15.3c87eb1b.png"},388:function(s,t,a){s.exports=a.p+"assets/img/16.c7e4f994.png"},447:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"让你的-hexo-博客支持远程编辑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#让你的-hexo-博客支持远程编辑"}},[s._v("#")]),s._v(" 让你的 Hexo 博客支持远程编辑 "),e("Badge",{attrs:{text:"@17shou_VIP"}}),s._v(" "),e("Badge",{attrs:{text:"Finish"}})],1),s._v(" "),e("blockquote",[e("p",[s._v("本文由"),e("a",{attrs:{href:"https://www.17shou.vip/",target:"_blank",rel:"noopener noreferrer"}},[s._v("作者"),e("OutboundLink")],1),s._v("从"),e("a",{attrs:{href:"https://www.17shou.vip/%E8%AE%A9%E4%BD%A0%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%94%AF%E6%8C%81%E8%BF%9C%E7%A8%8B%E7%BC%96%E8%BE%91/",target:"_blank",rel:"noopener noreferrer"}},[s._v("个人博客"),e("OutboundLink")],1),s._v("和"),e("a",{attrs:{href:"https://www.luogu.org/blog/AC-WA-RE-TLE-MLE/rang-ni-di-hexo-bo-ke-zhi-chi-yuan-cheng-bian-ji",target:"_blank",rel:"noopener noreferrer"}},[s._v("洛谷日报"),e("OutboundLink")],1),s._v("中整理发表。")])]),s._v(" "),e("h2",{attrs:{id:"优缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优缺点"}},[s._v("#")]),s._v(" 优缺点")]),s._v(" "),e("p",[s._v("请先看看这种方法的优缺点再决定是否进行教程：")]),s._v(" "),e("p",[s._v("优点：")]),s._v(" "),e("ol",[e("li",[s._v("能实现远程编辑。")]),s._v(" "),e("li",[s._v("能让网站访问速度更快，因为部署在自己的服务器上。")])]),s._v(" "),e("p",[s._v("缺点：")]),s._v(" "),e("ol",[e("li",[s._v("需要一个服务器，我推荐阿里云的轻量级学生机（114 元 / 年）")]),s._v(" "),e("li",[s._v("需要域名备案，需要成年人进行办理，审核时间在 7 天左右。")]),s._v(" "),e("li",[s._v("控制台页面可能对某些人来说有点丑。\n"),e("img",{attrs:{src:a(373),alt:"1PNG"}})]),s._v(" "),e("li",[s._v("安装过程可能有点复杂。")])]),s._v(" "),e("p",[s._v("在这一功能方面，可能 Wordpress​ 和 Typecho​ 能做的更好，但它们也一样需要服务器和域名备案。如果您认为不想再去重新搞个 Wordpress​ 或者 ​Typecho​ ，又想实现远程编辑这一功能的话，就可以进行这篇教程了！")]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"教程使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#教程使用"}},[s._v("#")]),s._v(" 教程使用")]),s._v(" "),e("p",[s._v("防止有些人根据自己情况要填的东西直接 Copy​ 命令，忘记修改了，我会在需要自己填的地方打上  "),e("code",[s._v("【】")]),s._v("  。比如一个地方要填密码，我会写  "),e("code",[s._v("【密码】")]),s._v("  ，"),e("strong",[s._v("记得自己进行替换")]),s._v("。")]),s._v(" "),e("h2",{attrs:{id:"初步准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初步准备"}},[s._v("#")]),s._v(" 初步准备")]),s._v(" "),e("ol",[e("li",[s._v("现在第一步要做的事就是购买服务器了，如果已有服务器可以跳过。在这里，我推荐阿里云云翼计划的学生机（"),e("a",{attrs:{href:"https://promotion.aliyun.com/ntms/act/campus2018.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("购买地址"),e("OutboundLink")],1),s._v("），我建议用轻量级的，因为有 5M 带宽、1000GB 的流量。你大可以不用担心不够用，我用了两个月连 1GB 都没有用完。")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(374),alt:"云翼计划.PNG"}})]),s._v(" "),e("p",[s._v("记得在预装环境那里选择  "),e("code",[s._v("Ubuntu 16.04 64位")]),s._v("  ，当然  "),e("code",[s._v("CentOS")]),s._v("  理论上也可以，但是我没有试过。")]),s._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[s._v("现在先设置一下服务器的连接密码，在阿里云的控制台中按照下图进行操作：")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(375),alt:"服务器密码设置.PNG"}})]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[s._v("现在下载服务器的命令行工具  "),e("code",[s._v("Xshell")]),s._v("  和  "),e("code",[s._v("Xftp​")]),s._v("  ，去百度一下官网，然后官网有个人免费版本下载（"),e("a",{attrs:{href:"https://www.netsarang.com/zh/free-for-home-school/",target:"_blank",rel:"noopener noreferrer"}},[s._v("链接"),e("OutboundLink")],1),s._v("），输入邮箱，然后会把软件下载链接邮箱发给你，或者你直接在什么软件助手下也可以，不过可能不是最新的。")]),s._v(" "),e("p",[s._v("现在开始连接服务器，安装完两个软件，先打开  "),e("code",[s._v("Xshell​")]),s._v("  ，新建会话：")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(376),alt:"新建会话.PNG"}})]),s._v(" "),e("p",[s._v("然后写上服务器公网  "),e("code",[s._v("IP​")]),s._v("  ，输上密码，设置连接失败自动重连（因为我们会重启服务器）：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(377),alt:"设置会话IP.PNG"}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(378),alt:"设置会话密码.PNG"}})]),s._v(" "),e("p",[s._v("没有问题的话，应该就可以连上去了。如果连不上去，在控制台检查一下服务器的防火墙设置，看看  "),e("code",[s._v("22")]),s._v("  端口有没有打开，如果没有，就把  "),e("code",[s._v("80 443 4000 22 8888")]),s._v("  端口一起打开。")]),s._v(" "),e("h2",{attrs:{id:"二、配置服务器环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、配置服务器环境"}},[s._v("#")]),s._v(" 二、配置服务器环境")]),s._v(" "),e("h3",{attrs:{id:"宝塔版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#宝塔版"}},[s._v("#")]),s._v(" 宝塔版")]),s._v(" "),e("ol",[e("li",[s._v("首先安装"),e("strong",[s._v("宝塔控制面板")]),s._v("，可能要几分钟时间：")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" install.sh\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("在命令行上应该出现了 3 行控制面板进入入口和账号密码，用这个在浏览器打开控制面板（如果无法访问，请检查在服务器运营商的控制台的防火墙中有没有开放  "),e("code",[s._v("8888")]),s._v("  端口）")]),s._v(" "),e("li",[s._v("进入面板后应该会让你安装一键包，直接安装即可，安装完在 "),e("code",[s._v("软件商店")]),s._v(" 里面安装  "),e("code",[s._v("Nodejs")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(379),alt:"宝塔一键包.jpg"}})]),s._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[s._v("打开  "),e("code",[s._v("Xshell")]),s._v("  ，安装  "),e("code",[s._v("Nodejs")]),s._v("  和  "),e("code",[s._v("Git​")]),s._v("  ，这两个东西不在一键包里面：")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs-legacy\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("安装  "),e("code",[s._v("Hexo​")]),s._v("  ：")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g hexo\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" hexo-server --save\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[s._v("根据自己个人喜好，调整一下面板的名字、接入接口、用户名、密码等。")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(380),alt:"面板常规设置.png"}})]),s._v(" "),e("ol",{attrs:{start:"7"}},[e("li",[s._v("在宝塔的安全中开放端口： "),e("code",[s._v("80 443 4000 22 8888")])])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"非宝塔版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#非宝塔版"}},[s._v("#")]),s._v(" 非宝塔版")]),s._v(" "),e("ul",[e("li",[s._v("现在的服务器应该是很纯净的，需要安装一些普通的东西，如  "),e("code",[s._v("nginx")]),s._v("  ，  "),e("code",[s._v("git")]),s._v("  还有  "),e("code",[s._v("hexo​")]),s._v("  等。")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("安装  "),e("code",[s._v("Git​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n")])])])]),s._v(" "),e("li",[e("p",[s._v("安装  "),e("code",[s._v("Nodejs​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs-legacy\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v("\n")])])])]),s._v(" "),e("li",[e("p",[s._v("安装  "),e("code",[s._v("Nginx​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n")])])])]),s._v(" "),e("li",[e("p",[s._v("安装  "),e("code",[s._v("Hexo​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g hexo\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" hexo-server --save\n")])])])]),s._v(" "),e("li",[e("p",[s._v("设置开机自启：因为我忘了，所以请自行上网查找资料。")])])]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"三、在本地安装-hexo-admin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、在本地安装-hexo-admin"}},[s._v("#")]),s._v(" 三、在本地安装 Hexo-admin")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("在"),e("strong",[s._v("本地")]),s._v("的  "),e("code",[s._v("hexo​")]),s._v("  文件夹中  "),e("code",[s._v("Git Bash")]),s._v("  。")]),s._v(" "),e("p",[s._v("输入如下命令（"),e("strong",[s._v("现在是本地端")]),s._v("），安装  "),e("code",[s._v("Hexo-admin​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save hexo-admin\n")])])])]),s._v(" "),e("li",[e("p",[s._v("现在开始配置  "),e("code",[s._v("Hexo-admin​")]),s._v("  ：")]),s._v(" "),e("p",[s._v("打开本地  "),e("code",[s._v("server​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("hexo s\n")])])]),e("p",[s._v("在浏览器中打开  "),e("code",[s._v("http://localhost:4000/admin")])])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(381),alt:"Hexo-admin.PNG"}})]),s._v(" "),e("p",[s._v("现在应该可以看到  "),e("code",[s._v("Hexo-admin​")]),s._v("  的界面了，应该不需要输入用户名和密码的。所以说现在要设密码，在  "),e("code",[s._v("Settings")]),s._v("  中打开  "),e("code",[s._v("Setup authentification here")]),s._v("  ：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(382),alt:"Hexo-admin设置密码.PNG"}})]),s._v(" "),e("p",[s._v("然后填写用户名和密码：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(383),alt:"hexo-admin配置代码.PNG"}})]),s._v(" "),e("p",[s._v("现在复制下面生成的代码，复制到  "),e("code",[s._v("hexo")]),s._v("  根目录下的  "),e("code",[s._v("_config.yml")]),s._v("  中，直接放在最下面即可。")]),s._v(" "),e("p",[s._v("把上面的代码复制后还要再加一段，这是后面要设置一键部署脚本的路径，记得与上面保持代码缩进！")]),s._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[s._v("   "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deployCommand")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./Script/Depoly.sh'")]),s._v("\n")])])]),e("p",[e("img",{attrs:{src:a(384),alt:"_config粘贴代码.PNG"}})]),s._v(" "),e("p",[s._v("然后保存。")]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[s._v("现在点击  "),e("code",[s._v("Xshell")]),s._v("  上方工具栏打开  "),e("code",[s._v("Xftp")]),s._v("  ，把自己的整个  "),e("code",[s._v("hexo")]),s._v("  文件夹上传到服务器  "),e("code",[s._v("\\usr\\local")]),s._v("  目录，把  "),e("code",[s._v("hexo​")]),s._v("  文件夹名字改为  "),e("code",[s._v("Blog")]),s._v("  。（目录和名字可以自己随便改，但是一定要保证后面的文件路径不要填错）")])]),s._v(" "),e("li",[e("p",[s._v("在自己的服务器上安装  "),e("code",[s._v("Hexo-admin​")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/Blog\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save hexo-admin\n")])])])]),s._v(" "),e("li",[e("p",[s._v("现在是比较关键的一步了！为了让你们方便，我直接写几段代码，自己复制即可，记得分开复制。")]),s._v(" "),e("p",[s._v("先进入  "),e("code",[s._v("Blog")]),s._v("  ​文件夹，新建文件夹，创建一键部署脚本：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/Blog\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" Script\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" Depoly.sh\n")])])]),e("p",[s._v("编辑脚本：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\nhexo g\n【hexo d】\n")])])]),e("p",[s._v("PS：这里不用  "),e("code",[s._v("hexo clean")]),s._v("  ，然后根据自己需要，添加  "),e("code",[s._v("hexo d")]),s._v("  。如果先  "),e("code",[s._v("hexo clean")]),s._v("  了一遍后，在进行  "),e("code",[s._v("hexo g")]),s._v("  的过程中将无法访问网站，因为  "),e("code",[s._v("public")]),s._v("  目录已经被请了。关于  "),e("code",[s._v("【hexo d】")]),s._v("  ，虽然我们已经使用了自己的服务器，不再使用 Github 了，但是鉴于有些读者会使用诸如  "),e("code",[s._v("baidu-url-submitter")]),s._v("  之类基于  "),e("code",[s._v("hexo d")]),s._v("  的插件，所以在这里给大家提示一下。")]),s._v(" "),e("p",[e("code",[s._v("Ctrl+X")]),s._v("  退出编辑。")]),s._v(" "),e("p",[s._v("设置可执行权限：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x Depoly.sh\n")])])])]),s._v(" "),e("li",[e("p",[s._v("然后设置  "),e("code",[s._v("hexo s")]),s._v("  开机自启：")]),s._v(" "),e("p",[s._v("找到  "),e("code",[s._v("Ubuntu")]),s._v("  的系统自启文件  "),e("code",[s._v("rc.local")]),s._v("  ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/rc.local\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" rc.local\n")])])]),e("p",[s._v("复制代码：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh -e")]),s._v("\n/MyScript/hexo-sever.sh\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),e("p",[e("code",[s._v("Ctrl+X")]),s._v("  退出。")]),s._v(" "),e("p",[s._v("在写一个自己的启动脚本：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" MyScript\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" MyScript\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" hexo-sever.sh\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/Blog\nhexo s\n")])])]),e("p",[e("code",[s._v("Ctrl+X")]),s._v("  退出。")]),s._v(" "),e("p",[s._v("设置可执行权限：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x hexo-sever.sh\n")])])])]),s._v(" "),e("li",[e("p",[s._v("现在重启一下服务器，在浏览器输入  "),e("code",[s._v("http://【服务器公网IP】:4000/admin")]),s._v("  ，如果能上去，就说明成功了。")])])]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"四、使用-nginx​-代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、使用-nginx​-代理"}},[s._v("#")]),s._v(" 四、使用  "),e("code",[s._v("Nginx​")]),s._v("  代理")]),s._v(" "),e("ul",[e("li",[s._v("为什么要使用  "),e("code",[s._v("Nginx")]),s._v(" ​ 来代理呢？直接用  "),e("code",[s._v("hexo s")]),s._v("  不就可以了吗？但是  "),e("code",[s._v("hexo s")]),s._v("  的服务效率太低了。")])]),s._v(" "),e("h3",{attrs:{id:"宝塔版-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#宝塔版-2"}},[s._v("#")]),s._v(" 宝塔版")]),s._v(" "),e("ol",[e("li",[s._v("打开宝塔面板，在左侧点击网站，添加网站")]),s._v(" "),e("li",[s._v("如图进行配置：")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(385),alt:"Nginx添加网站.PNG"}})]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[s._v("在进行一些其他的配置：")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(386),alt:"SSL证书.PNG"}})]),s._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[s._v("在你的域名运营商那里设置 DNS​ 解析：")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(387),alt:"DNS解析.PNG"}})]),s._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[s._v("输入域名，没有问题的话应该可以访问了！！")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(388),alt:"没有问题.PNG"}})]),s._v(" "),e("h3",{attrs:{id:"非宝塔版-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#非宝塔版-2"}},[s._v("#")]),s._v(" 非宝塔版")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("http ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("    server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        listen "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        server_name www.17shou.vip 17shou.vip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        root /usr/local/Blog/public"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        location / "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                index  index.html index.htm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),e("li",[e("p",[s._v("SSL ​+ 强制 https ：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("\tserver "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            listen "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            server_name www.17shou.vip 17shou.vip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ssl on"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            index index.html index.htm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里是证书的pem和key文件的目录，根据自己的修改！！")]),s._v("\n            ssl_certificate   cert/www.17shou.vip.pem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ssl_certificate_key  cert/www.17shou.vip.key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ssl_session_timeout 5m"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("NULL:"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("aNULL:"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("MD5:"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("ADH:"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("RC4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ssl_protocols TLSv1 TLSv1.1 TLSv1.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ssl_prefer_server_ciphers on"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            root /usr/local/Blog/public"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            location / "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                index index.html index.htm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n       "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\tserver "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 因为https是443端口，所以80端口的任务就是跳到443端口去")]),s._v("\n    \tlisten  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    \tserver_name www.17shou.vip 17shou.vip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    \trewrite ^"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(".*"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$  https://"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$host")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" permanent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  \n")])])])])]),s._v(" "),e("h2",{attrs:{id:"q-a"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#q-a"}},[s._v("#")]),s._v(" Q&A")]),s._v(" "),e("h3",{attrs:{id:"为什么我不能访问-hexo-admin-？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么我不能访问-hexo-admin-？"}},[s._v("#")]),s._v(" 为什么我不能访问  "),e("code",[s._v("hexo-admin")]),s._v("  ？")]),s._v(" "),e("p",[s._v("可能因为你没开放 4000 端口，宝塔和服务器运营商那里都要开放端口。")]),s._v(" "),e("h3",{attrs:{id:"为什么我不能使用域名访问？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么我不能使用域名访问？"}},[s._v("#")]),s._v(" 为什么我不能使用域名访问？")]),s._v(" "),e("p",[s._v("如果端口没有任何问题的话，可能是备案问题，按照服务器运营商的操作去备案，个人认为阿里云是最方便的，自己扫一遍脸，写个备案单就可以了，所以刚开始我建议阿里云。")])])}),[],!1,null,null,null);t.default=n.exports}}]);