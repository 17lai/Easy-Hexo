(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{413:function(t,s,a){"use strict";a.r(s);var e=a(21),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"让你的-hexo-博客支持远程编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#让你的-hexo-博客支持远程编辑","aria-hidden":"true"}},[t._v("#")]),t._v(" 让你的 Hexo 博客支持远程编辑")]),t._v(" "),a("ul",[a("li",[t._v("本文由"),a("a",{attrs:{href:"https://www.17shou.vip/",target:"_blank",rel:"noopener noreferrer"}},[t._v("作者"),a("OutboundLink")],1),t._v("从"),a("a",{attrs:{href:"https://www.17shou.vip/%E8%AE%A9%E4%BD%A0%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%94%AF%E6%8C%81%E8%BF%9C%E7%A8%8B%E7%BC%96%E8%BE%91/",target:"_blank",rel:"noopener noreferrer"}},[t._v("个人博客"),a("OutboundLink")],1),t._v("和"),a("a",{attrs:{href:"https://www.luogu.org/blog/AC-WA-RE-TLE-MLE/rang-ni-di-hexo-bo-ke-zhi-chi-yuan-cheng-bian-ji",target:"_blank",rel:"noopener noreferrer"}},[t._v("洛谷日报"),a("OutboundLink")],1),t._v("中整理发表。")])]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[t._v("请先看看优缺点再决定是否进行教程：")])]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("ol",[a("li",[t._v("能实现远程编辑。")]),t._v(" "),a("li",[t._v("能让网站访问速度更快，因为部署在自己的服务器上。")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ol",[a("li",[t._v("需要一个服务器，我推荐阿里云的轻量级学生机（114 元/年）")]),t._v(" "),a("li",[t._v("需要域名备案，需要成年人进行办理，审核时间在 7 天左右。")]),t._v(" "),a("li",[t._v("控制台页面可能对某些人来说有点丑。\n"),a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31bd0ef6.png",alt:"Hexo-admin.PNG"}})]),t._v(" "),a("li",[t._v("安装过程可能有点复杂。")])]),t._v(" "),a("ul",[a("li",[t._v("在这一功能方面，可能 Wordpress​ 和 Typecho​ 能做的更好，但它们也一样需要服务器和域名备案。如果您认为不想再去重新搞个 Wordpress​ 或者 ​Typecho​ ，又想实现远程编辑这一功能的话，就可以进行这篇教程了！")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"零、教程使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#零、教程使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 零、教程使用")]),t._v(" "),a("ul",[a("li",[t._v("防止有些人根据自己情况要填的东西直接 Copy​ 命令，忘记修改了，我会在需要自己填的地方打上 "),a("code",[t._v("【】")]),t._v(" 。比如一个地方要填密码，我会写 "),a("code",[t._v("【密码】")]),t._v(" ，记得自己进行替换。")])]),t._v(" "),a("h2",{attrs:{id:"一、初步准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、初步准备","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、初步准备")]),t._v(" "),a("ol",[a("li",[t._v("现在第一步要做的事就是购买服务器了，如果已有服务器可以跳过。在这里，我推荐阿里云云翼计划的学生机（"),a("a",{attrs:{href:"https://promotion.aliyun.com/ntms/act/campus2018.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("购买地址"),a("OutboundLink")],1),t._v("），我建议用轻量级的，因为有 $5M$ 带宽， $1000$ GB 的流量不用担心不够用，我用了两个月连 1 GB 都没有用完。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31e3619d.png",alt:"云翼计划.PNG"}})]),t._v(" "),a("p",[t._v("记得在预装环境那里选择 "),a("code",[t._v("Ubuntu 16.04 64位")]),t._v(" ，当然 "),a("code",[t._v("CentOS")]),t._v(" 理论上也可以，但是我没有试过。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("现在先设置一下服务器的连接密码，在阿里云的控制台中按照下图进行操作：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31cd812a.png",alt:"服务器密码设置.PNG"}})]),t._v(" "),a("ol",[a("li",[a("p",[t._v("现在下载服务器的命令行工具 "),a("code",[t._v("Xshell")]),t._v(" 和 "),a("code",[t._v("Xftp​")]),t._v(" ，去百度一下官网，然后官网有个人免费版本下载（"),a("a",{attrs:{href:"https://www.netsarang.com/zh/free-for-home-school/",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),a("OutboundLink")],1),t._v("），输入邮箱，然后会把软件下载链接邮箱发给你，或者你直接在什么软件助手下也可以，不过可能不是最新的。")]),t._v(" "),a("p",[t._v("现在开始连接服务器，安装完两个软件，先打开 "),a("code",[t._v("Xshell​")]),t._v(" ，新建会话：")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31deddc5.png",alt:"新建会话.PNG"}})]),t._v(" "),a("p",[t._v("然后写上服务器公网 "),a("code",[t._v("IP​")]),t._v(" ，输上密码，设置连接失败自动重连（因为我们会重启服务器）：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31d8aed5.png",alt:"设置会话IP.PNG"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31dc0326.png",alt:"设置会话密码.PNG"}})]),t._v(" "),a("p",[t._v("没有问题的话，应该就可以连上去了。如果连不上去，在控制台检查一下服务器的防火墙设置，看看 "),a("code",[t._v("22")]),t._v(" 端口有没有打开，如果没有，就把 "),a("code",[t._v("80 443 4000 22 8888")]),t._v(" 端口一起打开。")]),t._v(" "),a("h2",{attrs:{id:"二、配置服务器环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、配置服务器环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、配置服务器环境")]),t._v(" "),a("h3",{attrs:{id:"宝塔版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#宝塔版","aria-hidden":"true"}},[t._v("#")]),t._v(" 宝塔版")]),t._v(" "),a("ol",[a("li",[t._v("首先安装"),a("strong",[t._v("宝塔控制面板")]),t._v("，可能要几分钟时间：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在命令行上应该出现了 3 行控制面板进入入口和账号密码，用这个在浏览器打开控制面板（如果无法访问，请检查在服务器运营商的控制台的防火墙中有没有开放 "),a("code",[t._v("8888")]),t._v(" 端口）")]),t._v(" "),a("li",[t._v("进入面板后应该会让你安装一键包，直接安装即可，安装完在"),a("code",[t._v("软件商店")]),t._v("里面安装 "),a("code",[t._v("Nodejs")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31c93b85.jpg",alt:"宝塔一键包.jpg"}})]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("打开 "),a("code",[t._v("Xshell")]),t._v(" ，安装 "),a("code",[t._v("Nodejs")]),t._v(" 和 "),a("code",[t._v("Git​")]),t._v(" ，这两个东西不在一键包里面：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nodejs\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nodejs-legacy\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("安装 "),a("code",[t._v("Hexo​")]),t._v(" ：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g hexo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hexo-server --save\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("根据自己个人喜好，调整一下面板的名字、接入接口、用户名、密码等。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2019/05/12/5cd827a542137.png",alt:"面板常规设置.png"}})]),t._v(" "),a("ol",{attrs:{start:"7"}},[a("li",[t._v("在宝塔的安全中开放端口："),a("code",[t._v("80 443 4000 22 8888")])])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"非宝塔版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非宝塔版","aria-hidden":"true"}},[t._v("#")]),t._v(" 非宝塔版")]),t._v(" "),a("ul",[a("li",[t._v("现在的服务器应该是很纯净的，需要安装一些普通的东西，如 "),a("code",[t._v("nginx")]),t._v(" ， "),a("code",[t._v("git")]),t._v(" 还有 "),a("code",[t._v("hexo​")]),t._v(" 等。")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("安装 "),a("code",[t._v("Git​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("安装 "),a("code",[t._v("Nodejs​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nodejs\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nodejs-legacy\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("安装 "),a("code",[t._v("Nginx​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n")])])])]),t._v(" "),a("li",[a("p",[t._v("安装 "),a("code",[t._v("Hexo​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g hexo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hexo-server --save\n")])])])]),t._v(" "),a("li",[a("p",[t._v("设置开机自启：因为我忘了，所以请自行上网查找资料。")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"三、在本地安装-hexo-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、在本地安装-hexo-admin","aria-hidden":"true"}},[t._v("#")]),t._v(" 三、在本地安装 Hexo-admin")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("在本地的 "),a("code",[t._v("hexo​")]),t._v(" 文件夹中 "),a("code",[t._v("Git Bash")]),t._v(" 。")]),t._v(" "),a("p",[t._v("输入如下命令（"),a("strong",[t._v("现在是本地端")]),t._v("），安装 "),a("code",[t._v("Hexo-admin​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save hexo-admin\n")])])])]),t._v(" "),a("li",[a("p",[t._v("现在开始配置 "),a("code",[t._v("Hexo-admin​")]),t._v(" ：")]),t._v(" "),a("p",[t._v("打开本地 "),a("code",[t._v("server​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("hexo s\n")])])]),a("p",[t._v("在浏览器中打开 "),a("code",[t._v("http://localhost:4000/admin")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31bd0ef6.png",alt:"Hexo-admin.PNG"}})]),t._v(" "),a("p",[t._v("现在应该可以看到 "),a("code",[t._v("Hexo-admin​")]),t._v(" 的界面了，应该不需要输入用户名和密码的。所以说现在要设密码，在 "),a("code",[t._v("Settings")]),t._v(" 中打开 "),a("code",[t._v("Setup authentification here")]),t._v(" ：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31bd1acb.png",alt:"Hexo-admin设置密码.PNG"}})]),t._v(" "),a("p",[t._v("然后填写用户名和密码：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31bd1501.png",alt:"hexo-admin配置代码.PNG"}})]),t._v(" "),a("p",[t._v("现在复制下面生成的代码，复制到 "),a("code",[t._v("hexo")]),t._v(" 根目录下的 "),a("code",[t._v("_config.yml")]),t._v(" 中，直接放在最下面即可。")]),t._v(" "),a("p",[t._v("把上面的代码复制后还要再加一段，这是后面要设置一键部署脚本的路径，记得与上面保持代码缩进！")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deployCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Script/Depoly.sh'")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31bcf7a6.png",alt:"_config粘贴代码.PNG"}})]),t._v(" "),a("p",[t._v("然后保存。")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[t._v("现在点击 "),a("code",[t._v("Xshell")]),t._v(" 上方工具栏打开 "),a("code",[t._v("Xftp")]),t._v(" ，把自己的整个 "),a("code",[t._v("hexo")]),t._v(" 文件夹上传到服务器 "),a("code",[t._v("\\usr\\local")]),t._v(" 目录，把 "),a("code",[t._v("hexo​")]),t._v(" 文件夹名字改为 "),a("code",[t._v("Blog")]),t._v(" 。（目录和名字可以自己随便改，但是一定要保证后面的文件路径不要填错）")])]),t._v(" "),a("li",[a("p",[t._v("在自己的服务器上安装 "),a("code",[t._v("Hexo-admin​")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" /usr/local/Blog\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save hexo-admin\n")])])])]),t._v(" "),a("li",[a("p",[t._v("现在是比较关键的一步了！为了让你们方便，我直接写几段代码，自己复制即可，记得分开复制。")]),t._v(" "),a("p",[t._v("先进入 "),a("code",[t._v("Blog")]),t._v(" ​文件夹，新建文件夹，创建一键部署脚本：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" /usr/local/Blog\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" Script\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" Depoly.sh\n")])])]),a("p",[t._v("编辑脚本：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/env sh")]),t._v("\nhexo g\n【hexo d】\n")])])]),a("p",[t._v("PS：这里不用 "),a("code",[t._v("hexo clean")]),t._v(" ，然后根据自己需要，添加 "),a("code",[t._v("hexo d")]),t._v(" 。如果先 "),a("code",[t._v("hexo clean")]),t._v(" 了一遍后，在进行 "),a("code",[t._v("hexo g")]),t._v(" 的过程中将无法访问网站，因为 "),a("code",[t._v("public")]),t._v(" 目录已经被请了。关于 "),a("code",[t._v("【hexo d】")]),t._v(" ，虽然我们已经使用了自己的服务器，不再使用 Github 了，但是鉴于有些读者会使用诸如 "),a("code",[t._v("baidu-url-submitter")]),t._v(" 之类基于 "),a("code",[t._v("hexo d")]),t._v(" 的插件，所以在这里给大家提示一下。")]),t._v(" "),a("p",[a("code",[t._v("Ctrl+X")]),t._v(" 退出编辑。")]),t._v(" "),a("p",[t._v("设置可执行权限：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x Depoly.sh\n")])])])]),t._v(" "),a("li",[a("p",[t._v("然后设置 "),a("code",[t._v("hexo s")]),t._v(" 开机自启：")]),t._v(" "),a("p",[t._v("找到 "),a("code",[t._v("Ubuntu")]),t._v(" 的系统自启文件 "),a("code",[t._v("rc.local")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" /etc/rc.local\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" rc.local\n")])])]),a("p",[t._v("复制代码：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/sh")]),t._v(" -e\n/MyScript/hexo-sever.sh\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v(" 0\n\n")])])]),a("p",[a("code",[t._v("Ctrl+X")]),t._v(" 退出。")]),t._v(" "),a("p",[t._v("在写一个自己的启动脚本：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" /\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" MyScript\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" MyScript\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" hexo-sever.sh\n\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" /usr/local/Blog\nhexo s\n\n\n")])])]),a("p",[a("code",[t._v("Ctrl+X")]),t._v(" 退出。")]),t._v(" "),a("p",[t._v("设置可执行权限：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x hexo-sever.sh\n\n")])])])]),t._v(" "),a("li",[a("p",[t._v("现在重启一下服务器，在浏览器输入 "),a("code",[t._v("http://【服务器公网IP】:4000/admin")]),t._v(" ，如果能上去，就说明成功了。")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"四、使用-nginx​-代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、使用-nginx​-代理","aria-hidden":"true"}},[t._v("#")]),t._v(" 四、使用 "),a("code",[t._v("Nginx​")]),t._v(" 代理")]),t._v(" "),a("ul",[a("li",[t._v("为什么要使用 "),a("code",[t._v("Nginx")]),t._v("​ 来代理呢？直接用 "),a("code",[t._v("hexo s")]),t._v(" 不就可以了吗？但是 "),a("code",[t._v("hexo s")]),t._v(" 的服务效率太低了。")])]),t._v(" "),a("h3",{attrs:{id:"宝塔版-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#宝塔版-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 宝塔版")]),t._v(" "),a("ol",[a("li",[t._v("打开宝塔面板，在左侧点击网站，添加网站")]),t._v(" "),a("li",[t._v("如图进行配置：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31c2776f.png",alt:"Nginx添加网站.PNG"}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在进行一些其他的配置：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31c653bf.png",alt:"SSL证书.PNG"}})]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("在你的域名运营商那里设置 DNS​ 解析：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca31bcd477.png",alt:"DNS解析.PNG"}})]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("输入域名，没有问题的话应该可以访问了！！")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cdn.17shou.vip/2019/06/09/5cfca49be6a03.png",alt:"没有问题.PNG"}})]),t._v(" "),a("h3",{attrs:{id:"非宝塔版-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非宝塔版-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 非宝塔版")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("http ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        listen 80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        server_name www.17shou.vip 17shou.vip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        root /usr/local/Blog/public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])]),t._v(" "),a("li",[a("p",[t._v("SSL ​+ 强制 https ：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("\tserver "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            listen 443"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            server_name www.17shou.vip 17shou.vip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            ssl on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            index index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里是证书的pem和key文件的目录，根据自己的修改！！")]),t._v("\n            ssl_certificate   cert/www.17shou.vip.pem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            ssl_certificate_key  cert/www.17shou.vip.key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            ssl_session_timeout 5m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("NULL:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("aNULL:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("MD5:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("ADH:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RC4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            ssl_protocols TLSv1 TLSv1.1 TLSv1.2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            ssl_prefer_server_ciphers on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            root /usr/local/Blog/public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                index index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\tserver "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 因为https是443端口，所以80端口的任务就是跳到443端口去")]),t._v("\n    \tlisten  80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    \tserver_name www.17shou.vip 17shou.vip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    \trewrite ^"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$  https://"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$host")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" permanent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n\n")])])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"q-a"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#q-a","aria-hidden":"true"}},[t._v("#")]),t._v(" Q&A")]),t._v(" "),a("p",[t._v("Q：为什么我不能访问 "),a("code",[t._v("hexo-admin")]),t._v(" ？")]),t._v(" "),a("p",[t._v("A：可能因为你没开放 4000 端口，宝塔和服务器运营商那里都要开放端口。")]),t._v(" "),a("p",[t._v("Q：为什么我不能使用域名访问？？")]),t._v(" "),a("p",[t._v("A：如果端口没有任何问题的话，可能是备案问题，按照服务器运营商的操作去备案，个人认为阿里云是最方便的，自己扫一遍脸，写个备案单就可以了，所以刚开始我建议阿里云。")]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[t._v("参考资料："),a("a",{attrs:{href:"https://www.jianshu.com/p/68e727dda16d",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何优雅地发布 Hexo 博客"),a("OutboundLink")],1)])])])},[],!1,null,null,null);s.default=n.exports}}]);