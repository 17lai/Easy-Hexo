(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{459:function(t,e,a){"use strict";a.r(e);var s=a(21),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hexo-blog-encrypt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hexo-blog-encrypt","aria-hidden":"true"}},[t._v("#")]),t._v(" hexo-blog-encrypt "),a("Badge",{attrs:{text:"@17shou_VIP"}}),t._v(" "),a("Badge",{attrs:{text:"Finish"}}),t._v(" "),a("Badge",{attrs:{text:"2.2.2"}})],1),t._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介","aria-hidden":"true"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),a("blockquote",[a("p",[t._v("试想一下，你写了一篇博客，但是，出于某种原因，不太希望每一个人都可以看到这篇博客。所以你常常会为这种文章设置一个密码，其他人需要输入密码才可以访问这篇博客。这对于 Typecho 或者 Wordpress 来说，这很容易。但是对于 Hexo 来说，之前并没有一个类似的功能。")])]),t._v(" "),a("p",[t._v("于是，"),a("a",{attrs:{href:"https://github.com/MikeCoder/hexo-blog-encrypt",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-blog-encrypt"),a("OutboundLink")],1),t._v(" 就这样诞生了！")]),t._v(" "),a("h2",{attrs:{id:"demo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo","aria-hidden":"true"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://mhexo.github.io/example-site/2018/06/25/encrypt-test/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MikeCoder"),a("OutboundLink")],1),t._v(" （本插件开发者）")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.17shou.vip/%E3%80%90Diary%E3%80%912019-5-16/",target:"_blank",rel:"noopener noreferrer"}},[t._v("17shou_VIP"),a("OutboundLink")],1),t._v(" （本文作者）")])]),t._v(" "),a("h2",{attrs:{id:"开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始","aria-hidden":"true"}},[t._v("#")]),t._v(" 开始")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("首先, 你需要确保你的文章中含有内容（不能为空或者只包含空格）")])]),t._v(" "),a("li",[a("p",[t._v("在 Hexo 根目录的 "),a("code",[t._v("_config.yml")]),t._v(" 启用插件：")])])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Security")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在你需要加密的 Hexo 博文头部添加："),a("code",[t._v("password")]),t._v(" ，"),a("code",[t._v("abstract")]),t._v(" ， "),a("code",[t._v("message")]),t._v(" 。")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PassWord\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("abstract")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" This blog is encrypted.\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" You must enter the password to read.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("password")]),t._v("：是该博客加密使用的密码。")]),t._v(" "),a("li",[a("code",[t._v("abstract")]),t._v("：是该博客的摘要，会显示在博客的列表页。")]),t._v(" "),a("li",[a("code",[t._v("message")]),t._v("：这个是博客查看时，密码输入框上面的描述性文字。")])]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("最后 "),a("code",[t._v("hexo clean")]),t._v(" + "),a("code",[t._v("hexo g")]),t._v(" 查看效果。")])]),t._v(" "),a("h2",{attrs:{id:"高级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级","aria-hidden":"true"}},[t._v("#")]),t._v(" 高级")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("对 TOC（目录） 进行加密，以主题 Landscape 为例：")]),t._v(" "),a("ul",[a("li",[t._v("找到目录 "),a("code",[t._v("hexo/themes/landscape/layout/_partial")]),t._v(" 下的 "),a("code",[t._v("article.ejs")])]),t._v(" "),a("li",[t._v("找到 "),a("code",[t._v("<% post.content %>")]),t._v(" 这段代码，一般 30 行左右")]),t._v(" "),a("li",[t._v("替换：")])]),t._v(" "),a("div",{staticClass:"language-ejs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<% if(post.toc == true){ %>\n    <div id="toc-div" class="toc-article" <% if (post.encrypt == true) { %>style="display:none" <% } %>>\n        <strong class="toc-title">Index</strong>\n        <% if (post.encrypt == true) { %>\n            <%- toc(post.origin, {list_number: true}) %>\n        <% } else { %>\n            <%- toc(post.content, {list_number: true}) %>\n        <% } %>\n    </div>\n<% } %>\n<%- post.content %>\n')])])])]),t._v(" "),a("li",[a("p",[t._v("修改加密模板：")]),t._v(" "),a("ul",[a("li",[t._v("由于不重要，详情请见"),a("a",{attrs:{href:"https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md#%E4%BF%AE%E6%94%B9%E5%8A%A0%E5%AF%86%E6%A8%A1%E6%9D%BF",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1),t._v("。")])])]),t._v(" "),a("li",[a("p",[t._v("回调：")]),t._v(" "),a("ul",[a("li",[t._v("若想要在文章解密之后调用额外代码，可以使用回调，但是需要自己编写代码。")]),t._v(" "),a("li",[t._v("详情请见"),a("a",{attrs:{href:"https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md#%E5%9B%9E%E8%B0%83",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1),t._v("。")])])])])])},[],!1,null,null,null);e.default=r.exports}}]);